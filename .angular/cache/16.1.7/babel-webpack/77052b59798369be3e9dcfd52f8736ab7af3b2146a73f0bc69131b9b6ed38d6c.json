{"ast":null,"code":"import _defineProperty from \"/Users/elmouhcadielbakalitahiri/dev/playground/angular/primeng-demo/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { StaticDataSource } from \"./static.datasource\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./static.datasource\";\nclass ProductRepository {\n  constructor(dataSource) {\n    _defineProperty(this, \"dataSource\", void 0);\n    _defineProperty(this, \"products\", []);\n    _defineProperty(this, \"categories\", []);\n    this.dataSource = dataSource;\n    dataSource.getProducts().subscribe(data => {\n      this.products = data;\n      this.categories = data.map(p => p.category).filter((c, index, array) => array.indexOf(c) == index).sort();\n    });\n  }\n  getProducts(category) {\n    return this.products.filter(p => category == \"\" || category == p.category);\n  }\n  getProduct(id) {\n    const result = this.products.find(p => p.id == id);\n    return result;\n  }\n  getCategories() {\n    return this.categories;\n  }\n}\n_defineProperty(ProductRepository, \"\\u0275fac\", function ProductRepository_Factory(t) {\n  return new (t || ProductRepository)(i0.ɵɵinject(i1.StaticDataSource));\n});\n_defineProperty(ProductRepository, \"\\u0275prov\", /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ProductRepository,\n  factory: ProductRepository.ɵfac,\n  providedIn: \"root\"\n}));\nexport { ProductRepository };","map":{"version":3,"names":["StaticDataSource","ProductRepository","constructor","dataSource","_defineProperty","getProducts","subscribe","data","products","categories","map","p","category","filter","c","index","array","indexOf","sort","getProduct","id","result","find","getCategories","i0","ɵɵinject","i1","factory","ɵfac","providedIn"],"sources":["/Users/elmouhcadielbakalitahiri/dev/playground/angular/primeng-demo/src/app/repository/product.repository.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { Product } from \"src/app/domain/product.model\";\nimport { StaticDataSource } from \"./static.datasource\";\n@Injectable({ providedIn: \"root\" })\nexport class ProductRepository {\n  private products: Product[] = [];\n  private categories: string[] = [];\n  constructor(private dataSource: StaticDataSource) {\n    dataSource.getProducts().subscribe((data: any) => {\n      this.products = data;\n      this.categories = data\n\n        .map((p: any) => p.category)\n        .filter((c: any, index: any, array: any) => array.indexOf(c) == index)\n        .sort();\n    });\n  }\n  getProducts(category?: string): Product[] {\n    return this.products.filter(\n      (p) => category == \"\" || category == p.category\n    );\n  }\n  getProduct(id: number): Product | undefined {\n    const result = this.products.find((p) => p.id == id);\n    return result;\n  }\n  getCategories(): string[] {\n    return this.categories;\n  }\n}\n"],"mappings":";AAEA,SAASA,gBAAgB,QAAQ,qBAAqB;;;AACtD,MACaC,iBAAiB;EAG5BC,YAAoBC,UAA4B;IAAAC,eAAA;IAAAA,eAAA,mBAFlB,EAAE;IAAAA,eAAA,qBACD,EAAE;IACb,KAAAD,UAAU,GAAVA,UAAU;IAC5BA,UAAU,CAACE,WAAW,EAAE,CAACC,SAAS,CAAEC,IAAS,IAAI;MAC/C,IAAI,CAACC,QAAQ,GAAGD,IAAI;MACpB,IAAI,CAACE,UAAU,GAAGF,IAAI,CAEnBG,GAAG,CAAEC,CAAM,IAAKA,CAAC,CAACC,QAAQ,CAAC,CAC3BC,MAAM,CAAC,CAACC,CAAM,EAAEC,KAAU,EAAEC,KAAU,KAAKA,KAAK,CAACC,OAAO,CAACH,CAAC,CAAC,IAAIC,KAAK,CAAC,CACrEG,IAAI,EAAE;IACX,CAAC,CAAC;EACJ;EACAb,WAAWA,CAACO,QAAiB;IAC3B,OAAO,IAAI,CAACJ,QAAQ,CAACK,MAAM,CACxBF,CAAC,IAAKC,QAAQ,IAAI,EAAE,IAAIA,QAAQ,IAAID,CAAC,CAACC,QAAQ,CAChD;EACH;EACAO,UAAUA,CAACC,EAAU;IACnB,MAAMC,MAAM,GAAG,IAAI,CAACb,QAAQ,CAACc,IAAI,CAAEX,CAAC,IAAKA,CAAC,CAACS,EAAE,IAAIA,EAAE,CAAC;IACpD,OAAOC,MAAM;EACf;EACAE,aAAaA,CAAA;IACX,OAAO,IAAI,CAACd,UAAU;EACxB;;gBAxBWR,iBAAiB,e;mBAAjBA,iBAAiB,EAAAuB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAA1B,gBAAA;AAAA;AAAAI,eAAA,CAAjBH,iBAAiB,gB;SAAjBA,iBAAiB;EAAA0B,OAAA,EAAjB1B,iBAAiB,CAAA2B,IAAA;EAAAC,UAAA,EADJ;AAAM;SACnB5B,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}